#:kivy !
# game_screen.kv

<Button>:

    font_size: 20

<Label>:
    font_size: 20

<MainMenu>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        size_hint: (None, None)
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Button:
            text: 'Play'
            size_hint: (None, None)
            size: (200, 50)
            on_release: root.start_game()

        Button:
            text: 'Ranking'
            size_hint: (None, None)
            size: (200, 50)
            on_release: root.show_ranking()

        Button:
            text: 'Help'
            size_hint: (None, None)
            size: (200, 50)
            on_release: root.show_help()
    

<GameScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        size_hint: (None, None)
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Button:
            text: 'New Game'
            size_hint: (None, None)
            size: (200, 50)
            on_release: root.start_new_game()

        Button:
            text: 'Select Level'
            size_hint: (None, None)
            size: (200, 50)
            on_release: root.select_level()

# select_level.kv
<SelectLevelScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: "Select a Level"
            font_size: 32
            size_hint_y: None
            height: 100

        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, 1
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            GridLayout:
                cols: 2
                spacing: 15
                size_hint: None, 1
                size: self.minimum_size
                pos_hint: {'center_x': 0.5}

                Button:
                    text: "Level 1"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 2"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 3"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 4"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 5"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 6"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 7"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 8"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 9"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)

                Button:
                    text: "Level 10"
                    size_hint: None, None
                    size: 120, 50
                    on_release: root.on_button_release(self)
            

<WeaponSelectionScreen>:
    BoxLayout:
        orientation: 'vertical'

        Label:
            text: 'Select Weapon Quantities'

        BoxLayout:
            orientation: 'horizontal'

            Label:
                text: 'Bullets:'
            Slider:
                id: bullets_slider
                min: 0
                max: 52
                value: 0
                on_value: root.update_bullets_label(bullets_slider.value)
            Label:
                id: bullets_value
                text: str(bullets_slider.value)

        BoxLayout:
            orientation: 'horizontal'

            Label:
                text: 'Lasers:'
            Slider:
                id: lasers_slider
                min: 0
                max: 52
                value: 0
                on_value: root.update_lasers_label(lasers_slider.value)
            Label:
                id: lasers_value
                text: str(lasers_slider.value)
        
        BoxLayout:
            orientation: 'horizontal'

            Label:
                text: 'Bombshells:'
            Slider:
                id: bombshells_slider
                min: 0
                max: 52
                value: 0
                on_value: root.update_bombshells_label(bombshells_slider.value)
            Label:
                id: bombshells_value
                text: str(bombshells_slider.value)

        Button:
            size_hint: (None, None)
            size: (200, 50)
            pos_hint: {'center_x': 0.5}
            text: 'Start Game'
            on_release: root.start_game()


<RankingScreen>:
    AnchorLayout:
        anchor_y: 'top'
        padding: 10
        spacing: 10

        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: 10

            Label:
                text: 'Ranking'
                font_size: '32sp'
                size_hint_y: None
                height: 50

            GridLayout:
                cols: 5
                size_hint_y: None
                height: self.minimum_height
                spacing: 10

                Label:
                    text: 'ID'
                    font_size: '20sp'
                    size_hint_y: None
                    height: 40
                Label:
                    text: 'Score'
                    font_size: '20sp'
                    size_hint_y: None
                    height: 40
                Label:
                    text: 'Bullets'
                    font_size: '20sp'
                    size_hint_y: None
                    height: 40
                Label:
                    text: 'Lasers'
                    font_size: '20sp'
                    size_hint_y: None
                    height: 40
                Label:
                    text: 'Bombshells'
                    font_size: '20sp'
                    size_hint_y: None
                    height: 40

            ScrollView:
                size_hint_y: None
                height: 400

                GridLayout:
                    id: record_table
                    cols: 5
                    spacing: 10
                    size_hint_y: None
                    height: self.minimum_height

            Button:
                text: 'Back to Menu'
                size_hint: None, None
                height: 50
                width: 200
                pos_hint: {'center_x': 0.5}
                on_press: root.back_to_menu()


<EndGameScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        padding: [100, 100, 100, 100]
        canvas.before:
            Color:
                rgba: 0, 0, 0, 1  # Черный фон
            Rectangle:
                size: self.size
                pos: self.pos
        Button:
            text: 'Restart'
            size_hint: (None, None)
            size: (200, 50)
            pos_hint: {'center_x': 0.5}
            on_release: root.on_restart_game()
        Button:
            text: 'Main Menu'
            size_hint: (None, None)
            size: (200, 50)
            pos_hint: {'center_x': 0.5}
            on_release: root.back_to_menu()

<HelpScreen>:
    FloatLayout:
        Label:
            text: "Welcome to the game! Here is how you can play:\n\n1. Use the buttons on the top left to select different weapons.\n2. Aim and shoot the targets to score points.\n3. The game ends when all targets are destroyed.\n4. Use bullets, lasers, and bombshells strategically to achieve the highest score!\n\nEnjoy the game!"
            size_hint: 0.8, 0.6
            pos_hint: {'x': 0.1, 'y': 0.3}
        
        Button:
            text: 'Back to Menu'
            size_hint: 0.2, 0.1
            pos_hint: {'x': 0.4, 'y': 0.1}
            on_press: root.back_to_menu()
        
        Button:
            text: 'GitHub'
            size_hint: None, None
            size: 100, 50
            pos_hint: {'x': 0.85, 'y': 0.1}
            on_press: root.open_github_repo()
